var awsmEadMain=window.awsmEadMain=window.awsmEadMain||{};jQuery(function(s){s(".ead-iframe-wrapper").each(function(){var a,e,i,d=s(this),t=d.find(".ead-iframe"),n=d.parent(".ead-document").data("viewer"),o=void 0!==n&&0<n.length&&n;o!==eadPublicViewer.viewer&&(a=t.data("src"),e=t.attr("loading"),i=!1,n=t,(i=void 0!==a&&0<a.length||void 0!==e&&"lazy"===e?!0:i)||(n=s('<iframe class="ead-iframe"></iframe>')).attr({src:t.attr("src"),style:t.attr("style"),title:t.attr("title")}),o||n.css("visibility","visible"),n.on("load",function(){s(this).parents(".ead-document").find(".ead-document-loading").css("display","none")}),i||d.html(n))}),s(".ead-document[data-pdf-src]").each(function(){var a=s(this),e=a.find(".ead-iframe"),i=a.data("pdfSrc"),d=void 0!==(d=a.data("viewer"))&&0<i.length&&0<d.length&&d,t="pdfjs"in eadPublic&&0<eadPublic.pdfjs.length&&"built-in"===d;d&&("browser"===d||t)&&(PDFObject.supportsPDFs||t?(d={},d=t?{forcePDFJS:!0,PDFJS_URL:eadPublic.pdfjs}:{width:e.css("width"),height:e.css("height")},PDFObject.embed(i,a,d)):e.css("visibility","visible"))}),s(document).on("click",".ead-reload-btn",function(a){a.preventDefault();var e=s(this).parents(".ead-document"),a=e.find(".ead-iframe").attr("src");e.find(".ead-iframe").attr("src",a)})}),awsmEadMain.getAdobeFileOptions=function(a){var e=a.data("pdfSrc").split("#").shift().split("?").shift().split("/").pop();return{content:{location:{url:a.data("pdfSrc")}},metaData:{fileName:e}}},awsmEadMain.getAdobeViewerOptions=function(a){return{showAnnotationTools:!1,showLeftHandPanel:!1,enableFormFilling:!1,showDownloadPDF:!1,showPrintPDF:!1}},awsmEadMain.adobeViewer=function(a,e){var i;(e=void 0!==e?e:eadPublic.adobe_api_key)&&(i=a.attr("id"),e=new AdobeDC.View({clientId:e,divId:i}),awsmEadMain.adobeFileOptions=awsmEadMain.adobeFileOptions||{},awsmEadMain.adobeViewerOptions=awsmEadMain.adobeViewerOptions||{},awsmEadMain.adobeFileOptions[i]=awsmEadMain.getAdobeFileOptions(a),awsmEadMain.adobeViewerOptions[i]=awsmEadMain.getAdobeViewerOptions(a),a.trigger("awsm_ead_adobe_viewer_init"),e.previewFile(awsmEadMain.adobeFileOptions[i],awsmEadMain.adobeViewerOptions[i]))},document.addEventListener("adobe_dc_view_sdk.ready",function(){var e=eadPublic.adobe_api_key;e&&(jQuery(document).trigger("awsm_ead_adobe_sdk_loaded"),jQuery('.ead-document[data-viewer="adobe"]').each(function(){var a=jQuery(this);awsmEadMain.adobeViewer(a,e)}))});